# ===================================
# ENVIRONMENT SETUP INSTRUCTIONS
# ===================================
# IMPORTANT: This is a TEMPLATE file showing all environment variables used by this project.
#
# To get actual values for local development:
# 1. Install Vercel CLI: npm i -g vercel
# 2. Link to project: vercel link
# 3. Pull variables: vercel env pull .env.local
#
# The command above downloads ALL variables (with real values) from Vercel into .env.local
#
# ===================================
# USER-CONFIGURED VARIABLES
# ===================================
# These must be manually set in Vercel Dashboard (Settings > Environment Variables)
# Select environments: Production, Preview, Development (check all three)

# Admin username for /admin panel login
# Used by src/routes/admin.js for authentication
ADMIN_USERNAME=admin

# Admin password (plaintext - automatically hashed by bcrypt on first use)
# Change this to a strong password before deploying!
# Used by src/routes/admin.js for authentication
ADMIN_PASSWORD=changeme123

# Secret key for session encryption (generate 32+ random characters)
# Used by express-session to sign session cookies for admin login
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=change-this-to-a-random-secret-key-at-least-32-characters-long

# Node environment mode (production or development)
# Affects cookie security (secure flag, sameSite attribute) and error verbosity
# Set to "production" in Vercel dashboard for production environment
# IMPORTANT: After running "vercel env pull .env.local", change this to "development" for local testing
# This is required because NODE_ENV=production sets secure:true on cookies, which requires HTTPS
# Local development runs on HTTP (localhost:3000), so cookies won't work with NODE_ENV=production
NODE_ENV=development

# Server port (optional, defaults to 3000 if not set)
# Vercel automatically assigns a port in production, so this is mainly for local dev
# PORT=3000

# ===================================
# VERCEL BLOB STORAGE (AUTO-CONFIGURED)
# ===================================
# Auto-generated when you create a Vercel Blob store and connect it to your project
# Used by @vercel/blob package (src/utils/blob.js) to upload/delete photos

# Authentication token for Vercel Blob API
# Used for uploading gallery photos and memory photos
# BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxxxxxxxxxx

# ===================================
# VERCEL POSTGRES (NEON) - PRIMARY URLS (AUTO-CONFIGURED)
# ===================================
# Auto-generated when you create a Vercel Postgres (Neon) database and connect it to your project
# Used by @vercel/postgres package (src/db/index.js)

# Main connection string with connection pooling (THIS IS THE PRIMARY ONE USED)
# Format: postgresql://username:password@host-pooler/database?sslmode=require
# Used by src/db/index.js to connect to database
# POSTGRES_URL=postgresql://user:pass@host-pooler.region.aws.neon.tech/dbname?sslmode=require

# Prisma-compatible URL (includes connect_timeout parameter)
# Same as POSTGRES_URL but with extended timeout for ORM compatibility
# POSTGRES_PRISMA_URL=postgresql://user:pass@host-pooler.region.aws.neon.tech/dbname?connect_timeout=15&sslmode=require

# Direct connection without pooling (for migrations or long-running queries)
# Notice the host doesn't include "-pooler" suffix
# POSTGRES_URL_NON_POOLING=postgresql://user:pass@host.region.aws.neon.tech/dbname?sslmode=require

# ===================================
# VERCEL POSTGRES - ALTERNATIVE NAMES (AUTO-CONFIGURED)
# ===================================
# These are aliases provided by Vercel for framework compatibility
# They contain the same values as the PRIMARY URLs above

# Alias for POSTGRES_URL (with pooling)
# POSTGRES_DATABASE_URL=postgresql://user:pass@host-pooler.region.aws.neon.tech/dbname?sslmode=require

# Alias for POSTGRES_URL_NON_POOLING (without pooling)
# POSTGRES_DATABASE_URL_UNPOOLED=postgresql://user:pass@host.region.aws.neon.tech/dbname?sslmode=require

# Connection string without SSL requirement (NOT recommended for production)
# POSTGRES_URL_NO_SSL=postgresql://user:pass@host-pooler.region.aws.neon.tech/dbname

# ===================================
# VERCEL POSTGRES - COMPONENT VALUES (AUTO-CONFIGURED)
# ===================================
# Individual connection parameters extracted from the connection strings
# Useful for database tools that need separate host/user/password/database values

# Database name
# POSTGRES_DATABASE=neondb
# POSTGRES_PGDATABASE=neondb

# Database host with connection pooling
# POSTGRES_HOST=ep-xxxxx-pooler.region.aws.neon.tech
# POSTGRES_PGHOST=ep-xxxxx-pooler.region.aws.neon.tech

# Database host without pooling (direct connection)
# POSTGRES_PGHOST_UNPOOLED=ep-xxxxx.region.aws.neon.tech

# Database username
# POSTGRES_USER=neondb_owner
# POSTGRES_PGUSER=neondb_owner

# Database password
# POSTGRES_PASSWORD=npg_xxxxxxxxxxxxx
# POSTGRES_PGPASSWORD=npg_xxxxxxxxxxxxx

# Neon project identifier (internal use)
# POSTGRES_NEON_PROJECT_ID=wispy-block-xxxxxxxx

# ===================================
# VERCEL INTERNAL (AUTO-CONFIGURED)
# ===================================
# These are auto-generated by Vercel CLI and expire periodically

# OIDC authentication token for Vercel CLI
# Auto-refreshed when you run vercel commands
# Used for authenticated API requests to Vercel
# VERCEL_OIDC_TOKEN=eyJhbGc...

# ===================================
# LOCAL DEVELOPMENT ALTERNATIVE
# ===================================
# If you want to run locally WITHOUT Vercel CLI (advanced use case):
# 1. Install PostgreSQL locally
# 2. Create database: createdb memorial_local
# 3. Create .env.local with only these variables:
#
# POSTGRES_URL=postgresql://localhost/memorial_local
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=testpass123
# SESSION_SECRET=local-dev-secret-key-at-least-32-chars
# NODE_ENV=development
#
# Note: Photos won't upload locally without BLOB_READ_WRITE_TOKEN
